<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>L`Express</title>
        <link rel="stylesheet" type="text/css" href="css/index.css">
        <script type="text/javascript" src="jquery-1.11.0.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/jquery.validate.min.js"></script>
        <script src="js/form-validation.js"></script>
    </head>
    <body>
        <header>
            <div class="logo">
                <img src="slike/logo.png" class="logo-img">
            </div>
            <nav>
                <div class="seperator">
                    <ol class="nav-list">
                        <li><a href="index.php">HOME</a></li>
                        <li><a href="monde.php">MONDE</a></li>
                        <li><a href="economie.php">ECONOMIE</a></li>
                    </ol>
                    <ol class="nav-list" id="create">
                        <li><a href="form.html">ADMINISTRACIJA</a></li>
                        <li><a href="login.html">LOGOUT</a></li>
                    </ol>
                </div>
            </nav>
        </header>


        <main>
            <div class="main-div">
                <form name="novo" id="form1" method="POST" action="form_submit.php" class="newForm">
                    <label for="#naslov">Naslov vjesti (maksimum 30 znakova)</label><br>
                    <input type="text" name="naslov" id="naslov"><br>
                    <label for="#kratko">Kratki sadržaj (maksimum 70 znakova)</label><br>
                    <textarea name="kratki" id="kratko"></textarea><br>
                    <label for="#sadrzaj">Sadržaj vjesti</label><br>
                    <textarea name="sadrzaj" id="sadrzaj"></textarea><br>
                    <label for="#slika">Link na sliku</label><br>
                    <input type="text" name="slika" id="slika"><br>
                    <label for="#categorija">Kategorija</label><br>
                    <select name="categorija" id="categorija">
                        <option value="monde" selected>Monde</option>
                        <option value="economie">Economie</option>
                    </select><br>
                    <input type="button" value="Poništi" class="buttonForm" onclick="clearForm()">
                    <input type="submit" value="Submit" class="buttonForm">
                </form>
                <script>
                    $(function() {
                        $("form[name='novo']").validate({
                            rules: {
                                naslov: {
                                    required: true,
                                    minlength: 3,
                                    maxlength: 30
                                },
                                kratki: {
                                    required: true,
                                    minlength: 3,
                                    maxlength: 70
                                },
                                sadrzaj: {
                                    required: true,
                                },
                                slika: {
                                    required: true,
                                    url: true
                                },
                                categorija: {
                                    required: true,
                                }
                            },
            
                            messages: {
                                naslov: {
                                    required: "Naslov nesmije biti prazan.",
                                    minlength: "Naslov mora imati barem 3 znaka.",
                                    maxlength: "Naslov nesmije imati više od 20 znakova."
                                },
                                kratki: {
                                    required: "Kratki sadržaj nesmije biti prazan.",
                                    minlength: "Kratki sadržaj mora imati barem 3 znaka.",
                                    maxlength: "Kratki sadržaj nesmije imati više od 70 znakova."
                                },
                                sadrzaj: {
                                    required: "Sadržaj nesmije biti prazan",
                                },
                                slika: {
                                    required: "Slika nesmije biti prazna",
                                    url: "Slika mora imati validni url"
                                },
                                categorija: {
                                    required: "Kategorija mora biti odabrana",
                                },
            
                                submitHandler: function(form) {
                                    form.submit();
                                }
                            }
                        })
                    });

                    function clearForm(){
                        document.getElementById("form1").reset();
                    }
                </script>
            </div>
        </main>
            

        <footer>
            <div class="center-footer">
                <p>Les sites du reseau Groupe L`Express : Food avec Mycuisine.fr</p>
                <br>
                <p>© L'Express </p>
            </div>
        </footer>
    </body>
</html>